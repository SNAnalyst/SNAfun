<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Make a matrix from a vertex attribute — make_matrix_from_vertex_attribute • snafun</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Make a matrix from a vertex attribute — make_matrix_from_vertex_attribute"><meta property="og:description" content="Create a matrix based on a vertex attribute"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">snafun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2024.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SNAnalyst/SNAfun/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make a matrix from a vertex attribute</h1>
    <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/R/make_matrix_from_vertex_attribute.R" class="external-link"><code>R/make_matrix_from_vertex_attribute.R</code></a></small>
    <div class="hidden name"><code>make_matrix_from_vertex_attribute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a matrix based on a vertex attribute</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">name</span>,</span>
<span>  measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"absdiff"</span>, <span class="st">"diff"</span>, <span class="st">"sum"</span>, <span class="st">"max"</span>, <span class="st">"min"</span>, <span class="st">"mean"</span>, <span class="st">"sender"</span>, <span class="st">"receiver"</span>,</span>
<span>    <span class="st">"equal"</span><span class="op">)</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>input, a vector or an object of class <code>igraph</code> or
<code>network</code></p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>the name of the attribute to be extracted. This will only be used
if <code>x</code> is of class <code>igraph</code> or <code>network</code></p></dd>


<dt id="arg-measure">measure<a class="anchor" aria-label="anchor" href="#arg-measure"></a></dt>
<dd><p>character, currently a choice between "absdiff", "diff",
"sum", "max", "min". The default value is <code>"absdiff"</code></p></dd>


<dt id="arg-diag">diag<a class="anchor" aria-label="anchor" href="#arg-diag"></a></dt>
<dd><p>if <code>FALSE</code> (the default), the diagonal will be zero. If
anything else, the diagonal is filled with that (if it fits)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>matrix</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function creates a matrix on the basis of a vertex attribute in an
object of class <code>igraph</code> or <code>network</code>. In this case, the vertex
attribute provided in the <code>name</code> argument will be extracted.</p>
<p>Alternatively, <code>x</code> can be a numeric vector provided by the user.</p>
<p>This vector/attribute is then used to construct a valued matrix, which can be
fed into <code>igraph</code> or <code>network</code> for further use.</p>
<p>The function hosts several options to create this valued matrix with:</p>
<ul><li><p>absdiff the absolute difference between values for two vertices</p></li>
<li><p>diff the difference is returned, so the value of the vertex with the
lower vertex index minus the value of the vertex with the higher vertex
index. This value can be negative.</p></li>
<li><p>sum the sum of the values for both vertices</p></li>
<li><p>max the highest value between the two vertices</p></li>
<li><p>min the highest value between the two vertices</p></li>
<li><p>mean the mean between the two vertices</p></li>
<li><p>sender the value of the sender's attribute in the entire row</p></li>
<li><p>receiver the value of the receiver's attribute in the entire column</p></li>
<li><p>equal 1 if both vertices have the same on the attribute, 0 otherwise</p></li>
</ul><p>Most of the options speak for themselves.
The <code>sender</code> option is used to model a sender effect. For example,
if it is to be tested whether the sender's age drives edges,
the sender's age is the edge attribute for every edge this sender is
involved in. Mathematically, this means that the sender's age
should be in all of the cells of that sender's row.</p>
<p>Similarly, the <code>receiver</code> option places the receiver's attribute in
each column. For the attribute 'age', this makes the edge attribute equal
to the receiver's age, for every edge the vertex is the receiver.</p>
<p>If <code>diag == FALSE</code> (the default), the diagonal of the returned matrix
will contain zeroes. If <code>diag</code> is any other value, then that will be
inserted into the diagonal. Using recycling rules, any object of fitting
length is accepted.
If <code>diag == TRUE</code>, the <code>measure</code> will also be applied to the
diagonal elements.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1    2    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1    0    1    2    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    2    1    0    1    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    3    2    1    0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    4    3    2    1    0</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"sum"</span>, diag <span class="op">=</span> <span class="fl">99</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   99    3    4    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    3   99    5    6    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    4    5   99    7    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    5    6    7   99    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    6    7    8    9   99</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"max"</span>, diag <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   NA    2    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2   NA    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    3   NA    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4    4    4   NA    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    5    5    5    5   NA</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"sum"</span>, diag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    2    3    4    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    3    4    5    6    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    4    5    6    7    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    5    6    7    8    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    6    7    8    9   10</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"min"</span>, diag <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   11    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1   12    2    2    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    1    2   13    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    2    3   14    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    1    2    3    4   15</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"sender"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2    0    2    2    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    3    0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4    4    4    0    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    5    5    5    5    0</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"receiver"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    2    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1    0    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    1    2    0    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    2    3    0    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    1    2    3    4    0</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">florentine</span>, package <span class="op">=</span> <span class="st">"SNA4DSData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># absdiff, with zeroes on the diagonal</span></span></span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="va">florentine</span><span class="op">$</span><span class="va">floattrs</span><span class="op">$</span><span class="va">Wealth</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Roger Leenders, Claudia Zucca.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

