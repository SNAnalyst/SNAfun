<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Make a matrix from a vertex attribute — make_matrix_from_vertex_attribute • snafun</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make a matrix from a vertex attribute — make_matrix_from_vertex_attribute"><meta name="description" content="Create a matrix based on a vertex attribute"><meta property="og:description" content="Create a matrix based on a vertex attribute"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">snafun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2024.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Creating-a-graph-object.html">Creating a graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Manipulating-the-graph-object.html">Manipulating the graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Converting-between-graph-classes.html">Converting between graph classes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Network measures</h6></li>
    <li><a class="dropdown-item" href="../articles/Graph-level-indices.html">Graph level indices</a></li>
    <li><a class="dropdown-item" href="../articles/Dyad-level-indices.html">Dyad-level indices</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Statistical Models</h6></li>
    <li><a class="dropdown-item" href="../articles/Statistical-models.html">Statistical Models</a></li>
    <li><a class="dropdown-item" href="../articles/ERGMs.html">Exponential Random Graph Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Temporal network analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/ERGM-for-temporal-networks.html">ERGM for temporal networks</a></li>
    <li><a class="dropdown-item" href="../articles/Temporal-networks-exploration.html">Temporal networks exploration and description</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Plotting the graph</h6></li>
    <li><a class="dropdown-item" href="../articles/Plotting.html">Plotting</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SNAnalyst/SNAfun/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Make a matrix from a vertex attribute</h1>
      <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/R/make_matrix_from_vertex_attribute.R" class="external-link"><code>R/make_matrix_from_vertex_attribute.R</code></a></small>
      <div class="d-none name"><code>make_matrix_from_vertex_attribute.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a matrix based on a vertex attribute</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">name</span>,</span>
<span>  measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"absdiff"</span>, <span class="st">"diff"</span>, <span class="st">"sum"</span>, <span class="st">"max"</span>, <span class="st">"min"</span>, <span class="st">"mean"</span>, <span class="st">"sender"</span>, <span class="st">"receiver"</span>,</span>
<span>    <span class="st">"equal"</span><span class="op">)</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>input, a vector or an object of class <code>igraph</code> or
<code>network</code></p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>the name of the attribute to be extracted. This will only be used
if <code>x</code> is of class <code>igraph</code> or <code>network</code></p></dd>


<dt id="arg-measure">measure<a class="anchor" aria-label="anchor" href="#arg-measure"></a></dt>
<dd><p>character, currently a choice between "absdiff", "diff",
"sum", "max", "min". The default value is <code>"absdiff"</code></p></dd>


<dt id="arg-diag">diag<a class="anchor" aria-label="anchor" href="#arg-diag"></a></dt>
<dd><p>if <code>FALSE</code> (the default), the diagonal will be zero. If
anything else, the diagonal is filled with that (if it fits)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>matrix</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function creates a matrix on the basis of a vertex attribute in an
object of class <code>igraph</code> or <code>network</code>. In this case, the vertex
attribute provided in the <code>name</code> argument will be extracted.</p>
<p>Alternatively, <code>x</code> can be a numeric vector provided by the user.</p>
<p>This vector/attribute is then used to construct a valued matrix, which can be
fed into <code>igraph</code> or <code>network</code> for further use.</p>
<p>The function hosts several options to create this valued matrix with:</p>
<ul><li><p>absdiff the absolute difference between values for two vertices</p></li>
<li><p>diff the difference is returned, so the value of the vertex with the
lower vertex index minus the value of the vertex with the higher vertex
index. This value can be negative.</p></li>
<li><p>sum the sum of the values for both vertices</p></li>
<li><p>max the highest value between the two vertices</p></li>
<li><p>min the highest value between the two vertices</p></li>
<li><p>mean the mean between the two vertices</p></li>
<li><p>sender the value of the sender's attribute in the entire row</p></li>
<li><p>receiver the value of the receiver's attribute in the entire column</p></li>
<li><p>equal 1 if both vertices have the same on the attribute, 0 otherwise</p></li>
</ul><p>Most of the options speak for themselves.
The <code>sender</code> option is used to model a sender effect. For example,
if it is to be tested whether the sender's age drives edges,
the sender's age is the edge attribute for every edge this sender is
involved in. Mathematically, this means that the sender's age
should be in all of the cells of that sender's row.</p>
<p>Similarly, the <code>receiver</code> option places the receiver's attribute in
each column. For the attribute 'age', this makes the edge attribute equal
to the receiver's age, for every edge the vertex is the receiver.</p>
<p>If <code>diag == FALSE</code> (the default), the diagonal of the returned matrix
will contain zeroes. If <code>diag</code> is any other value, then that will be
inserted into the diagonal. Using recycling rules, any object of fitting
length is accepted.
If <code>diag == TRUE</code>, the <code>measure</code> will also be applied to the
diagonal elements.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1    2    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1    0    1    2    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    2    1    0    1    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    3    2    1    0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    4    3    2    1    0</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"sum"</span>, diag <span class="op">=</span> <span class="fl">99</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   99    3    4    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    3   99    5    6    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    4    5   99    7    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    5    6    7   99    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    6    7    8    9   99</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"max"</span>, diag <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   NA    2    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2   NA    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    3   NA    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4    4    4   NA    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    5    5    5    5   NA</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"sum"</span>, diag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    2    3    4    5    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    3    4    5    6    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    4    5    6    7    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    5    6    7    8    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    6    7    8    9   10</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"min"</span>, diag <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]   11    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1   12    2    2    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    1    2   13    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    2    3   14    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    1    2    3    4   15</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"sender"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    1    1    1    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2    0    2    2    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    3    0    3    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4    4    4    0    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    5    5    5    5    0</span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, measure <span class="op">=</span> <span class="st">"receiver"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    2    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    1    0    3    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    1    2    0    4    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    1    2    3    0    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    1    2    3    4    0</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">florentine</span>, package <span class="op">=</span> <span class="st">"SNA4DSData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># absdiff, with zeroes on the diagonal</span></span></span>
<span class="r-in"><span><span class="fu">make_matrix_from_vertex_attribute</span><span class="op">(</span><span class="va">florentine</span><span class="op">$</span><span class="va">floattrs</span><span class="op">$</span><span class="va">Wealth</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.tilburguniversity.edu/staff/r-t-a-j-leenders" class="external-link">Roger Leenders</a>, <a href="https://www.tilburguniversity.edu/staff/c-zucca" class="external-link">Claudia Zucca</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

