<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Find the Bottleneck centrality score — v_bottleneck • snafun</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Find the Bottleneck centrality score — v_bottleneck"><meta property="og:description" content="How often is a vertex a bottleneck for other vertices in the graph?"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">snafun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2024.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SNAnalyst/SNAfun/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find the Bottleneck centrality score</h1>
    <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/R/v_bottleneck.R" class="external-link"><code>R/v_bottleneck.R</code></a></small>
    <div class="hidden name"><code>v_bottleneck.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>How often is a vertex a bottleneck for other vertices in the graph?</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">v_bottleneck</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"out"</span>, <span class="st">"in"</span><span class="op">)</span>,</span>
<span>  vids <span class="op">=</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">graph</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The input graph as igraph object, a network object, or a,
adjacency matrix</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character constant, gives whether the shortest paths to or from
the given vertices should be calculated for directed graphs.
If <code>out</code> then the shortest paths from the vertex, if <code>in</code> then to
it will be considered. If <code>all</code>, the default, then the corresponding
undirected graph will be used. This argument is ignored for undirected graphs.</p></dd>


<dt id="arg-vids">vids<a class="anchor" aria-label="anchor" href="#arg-vids"></a></dt>
<dd><p>Numeric vertex sequence, the vertices that should be considered.
Default is all vertices. Otherwise, the operation is performed on the
subgraph only containing vertices <code>vids</code>.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>scalar, defaults to 4.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data.frame with vertex names (if they exist) and bottleneck
centrality scores.
Otherwise, a numeric vector contaning the centrality scores for the
selected vertices.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Consider the geodesics from \(i\) to all other vertices.
If node \(v\) is part of at least 1/n-th of these geodesics, \(v\) is said
to be a bottleneck for \(i\).
By default, <code>n == 4</code>, so \(v\) is a bottleneck for \(i\)
if \(v\) is part of least one quarter of all of the geodesics from \(i\).</p>
<p>The bottleneck centrality of \(v\) is the number of vertices that \(v\)
is a bottleneck for.</p>
<p>The score runs from 0 (ie. the vertex is a bottleneck for no other vertex)
to \(g - 1\), with <code>g</code> being the number of vertices in <code>graph.</code></p>
<p>The calculation does not use edge weights, even if the graph is weighted
(but the implementation could easily be altered to include weight as well).</p>
<p>Especially when densely connected subgroups exist,
multiple shortest paths are possible between two vertices.
If a vertex appear on at least one of them, that path counts as part of the
calculation.
This implies that being a _bottleneck_ does not take into account
whether there are alternative geodesics between the two vertices;
in other words, it does not matter whether the geodesic that \(v\) is
part of is redundant or not and alternative geodesics exist between the
pair of vertices that \(v\) is not part of and have the same length as
the geodesic(s) that \(v\) is on.
Hence, removal of the bottleneck node from the graph may not affect the
efficiency of the graph in these cases.</p>
<p>Note that geodesics that end at \(v\) also count in the calculation.
So, when there are multiple geodesics from \(i\) to \(v\),
it is likely that \(v\) will count as a bottleneck for \(i\),
although this may not be realistic.
An alteration of this measure to discard geodesics to \(v\) might be advisable.</p>
<p>Also note that the implementation of this measure in the <code>centiserve</code> package
is incorrect, so use our function and not theirs.</p>
<p>Also note that geodesics that end at \(v\) also count in the calculation.
So, when there are multiple geodesics from \(i\) to \(v\),
it is likely that \(v\) will count as a bottleneck for \(i\),
although this may not be realistic.
An alteration of this measure to discard geodesics to \(v\) might be advisable.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Przulj, N., Dennis A. Wigle, and Igor Jurisica.
"Functional topology in a network of protein interactions."
Bioinformatics 20.3 (2004): 340-348.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_graph.html" class="external-link">graph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4          0</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, vids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    3          2</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, mode <span class="op">=</span> <span class="st">"out"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4          2</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, mode <span class="op">=</span> <span class="st">"in"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4          1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_star.html" class="external-link">make_star</a></span><span class="op">(</span><span class="fl">10</span>, mode <span class="op">=</span> <span class="st">"undirected"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10          0</span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_ring.html" class="external-link">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span><span class="op">)</span> <span class="co"># all 0</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10          6</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="co"># all 9</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10          9</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Roger Leenders, Claudia Zucca.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

