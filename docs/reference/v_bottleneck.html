<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find the Bottleneck centrality score — v_bottleneck • snafun</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find the Bottleneck centrality score — v_bottleneck"><meta name="description" content="How often is a vertex a bottleneck for other vertices in the graph?"><meta property="og:description" content="How often is a vertex a bottleneck for other vertices in the graph?"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">snafun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2024.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Creating-a-graph-object.html">Creating a graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Manipulating-the-graph-object.html">Manipulating the graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Converting-between-graph-classes.html">Converting between graph classes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Network measures</h6></li>
    <li><a class="dropdown-item" href="../articles/Graph-level-indices.html">Graph level indices</a></li>
    <li><a class="dropdown-item" href="../articles/Dyad-level-indices.html">Dyad-level indices</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Statistical Models</h6></li>
    <li><a class="dropdown-item" href="../articles/Statistical-models.html">Statistical Models</a></li>
    <li><a class="dropdown-item" href="../articles/ERGMs.html">Exponential Random Graph Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Temporal network analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/ERGM-for-temporal-networks.html">ERGM for temporal networks</a></li>
    <li><a class="dropdown-item" href="../articles/Temporal-networks-exploration.html">Temporal networks exploration and description</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Plotting the graph</h6></li>
    <li><a class="dropdown-item" href="../articles/Plotting.html">Plotting</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SNAnalyst/SNAfun/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Find the Bottleneck centrality score</h1>
      <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/R/v_bottleneck.R" class="external-link"><code>R/v_bottleneck.R</code></a></small>
      <div class="d-none name"><code>v_bottleneck.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>How often is a vertex a bottleneck for other vertices in the graph?</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">v_bottleneck</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"out"</span>, <span class="st">"in"</span><span class="op">)</span>,</span>
<span>  vids <span class="op">=</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">graph</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The input graph as igraph object, a network object, or a,
adjacency matrix</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>Character constant, gives whether the shortest paths to or from
the given vertices should be calculated for directed graphs.
If <code>out</code> then the shortest paths from the vertex, if <code>in</code> then to
it will be considered. If <code>all</code>, the default, then the corresponding
undirected graph will be used. This argument is ignored for undirected graphs.</p></dd>


<dt id="arg-vids">vids<a class="anchor" aria-label="anchor" href="#arg-vids"></a></dt>
<dd><p>Numeric vertex sequence, the vertices that should be considered.
Default is all vertices. Otherwise, the operation is performed on the
subgraph only containing vertices <code>vids</code>.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>scalar, defaults to 4.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.frame with vertex names (if they exist) and bottleneck
centrality scores.
Otherwise, a numeric vector contaning the centrality scores for the
selected vertices.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Consider the geodesics from \(i\) to all other vertices.
If node \(v\) is part of at least 1/n-th of these geodesics, \(v\) is said
to be a bottleneck for \(i\).
By default, <code>n == 4</code>, so \(v\) is a bottleneck for \(i\)
if \(v\) is part of least one quarter of all of the geodesics from \(i\).</p>
<p>The bottleneck centrality of \(v\) is the number of vertices that \(v\)
is a bottleneck for.</p>
<p>The score runs from 0 (ie. the vertex is a bottleneck for no other vertex)
to \(g - 1\), with <code>g</code> being the number of vertices in <code>graph.</code></p>
<p>The calculation does not use edge weights, even if the graph is weighted
(but the implementation could easily be altered to include weight as well).</p>
<p>Especially when densely connected subgroups exist,
multiple shortest paths are possible between two vertices.
If a vertex appear on at least one of them, that path counts as part of the
calculation.
This implies that being a _bottleneck_ does not take into account
whether there are alternative geodesics between the two vertices;
in other words, it does not matter whether the geodesic that \(v\) is
part of is redundant or not and alternative geodesics exist between the
pair of vertices that \(v\) is not part of and have the same length as
the geodesic(s) that \(v\) is on.
Hence, removal of the bottleneck node from the graph may not affect the
efficiency of the graph in these cases.</p>
<p>Note that geodesics that end at \(v\) also count in the calculation.
So, when there are multiple geodesics from \(i\) to \(v\),
it is likely that \(v\) will count as a bottleneck for \(i\),
although this may not be realistic.
An alteration of this measure to discard geodesics to \(v\) might be advisable.</p>
<p>Also note that the implementation of this measure in the <code>centiserve</code> package
is incorrect, so use our function and not theirs.</p>
<p>Also note that geodesics that end at \(v\) also count in the calculation.
So, when there are multiple geodesics from \(i\) to \(v\),
it is likely that \(v\) will count as a bottleneck for \(i\),
although this may not be realistic.
An alteration of this measure to discard geodesics to \(v\) might be advisable.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Przulj, N., Dennis A. Wigle, and Igor Jurisica.
"Functional topology in a network of protein interactions."
Bioinformatics 20.3 (2004): 340-348.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_graph.html" class="external-link">graph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4          0</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, vids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    3          2</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, mode <span class="op">=</span> <span class="st">"out"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4          2</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, mode <span class="op">=</span> <span class="st">"in"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4          1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_star.html" class="external-link">make_star</a></span><span class="op">(</span><span class="fl">10</span>, mode <span class="op">=</span> <span class="st">"undirected"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10          0</span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_ring.html" class="external-link">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span><span class="op">)</span> <span class="co"># all 0</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10          6</span>
<span class="r-in"><span><span class="fu">v_bottleneck</span><span class="op">(</span><span class="va">g</span>, n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="co"># all 9</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name bottleneck</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10          9</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.tilburguniversity.edu/staff/r-t-a-j-leenders" class="external-link">Roger Leenders</a>, <a href="https://www.tilburguniversity.edu/staff/c-zucca" class="external-link">Claudia Zucca</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

