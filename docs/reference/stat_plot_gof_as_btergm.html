<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>gof and plot (btergm style) — stat_plot_gof_as_btergm • snafun</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="gof and plot (btergm style) — stat_plot_gof_as_btergm"><meta property="og:description" content="Determine the gof and plot the gof, using the btergm approach"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">snafun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2024.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SNAnalyst/SNAfun/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>gof and plot (btergm style)</h1>
    <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/R/stat_gof.R" class="external-link"><code>R/stat_gof.R</code></a></small>
    <div class="hidden name"><code>stat_plot_gof_as_btergm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Determine the gof and plot the gof, using the btergm approach</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span></span>
<span>  <span class="va">m</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  btergm_statistics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">esp</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">geodesic</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">deg</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">rocpr</a></span><span class="op">)</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>a fitted <code>ergm</code> or <code>btergm</code> model</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>optional arguments, see description</p></dd>


<dt id="arg-btergm-statistics">btergm_statistics<a class="anchor" aria-label="anchor" href="#arg-btergm-statistics"></a></dt>
<dd><p>vector of statistics to be used in the gof</p></dd>


<dt id="arg-silent">silent<a class="anchor" aria-label="anchor" href="#arg-silent"></a></dt>
<dd><p>logical, if <code>TRUE</code> fewer messages will be printed during the
calculation of the gof (but the function will often still print some output)</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical, if <code>FALSE</code>, the printing of most details
by the gof function is suppressed (but some warnings may still appear and
errors are always shown)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>the goodness of fit is silently returned</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>For a fitted <code>ergm</code> or <code>btergm</code>, this function calculates
the goodness of fit (<code>gof</code>) and plots it.
This is done using the <code>btergm</code> engine, which also works for
fitted <code>ergm</code> models.</p>
<p>For calculating the gof, btergm provides the option to check the fit of the
model against a range of statistics.
See <a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">gof-statistics</a> for an overview of the available statistics
to check against. Note that these partly overlap with statistics available
in the <code>ergm</code> package, but not exactly.
If a statistic is required that is not inluded in the <code>btergm</code> package
for use in the <code>gof</code> function (such as "nodecov"), you need to use the
<code>ergm</code> package for this and can not use this function.</p>
<p>The <code>...</code> argument allows one to pass arguments to the
<a href="https://rdrr.io/pkg/btergm/man/gof.html" class="external-link">gof</a> function, such as <code>target</code>, <code>formula</code>,
<code>parallel</code>, <code>ncpus</code>.
See the help of <a href="https://rdrr.io/pkg/btergm/man/gof.html" class="external-link">gof</a> for the options.</p>
<p>Many messages that are returned during the whole process can be suppressed
by setting <code>silent = TRUE</code> and <code>verbose = FALSE</code>.</p>
<p>NOTE: the goodness of fit is silently returned. The plot is
always plotted.</p>
<p>NOTE: <code>ergm</code> and <code>btergm</code> are packages made by separate research
groups. As a result, the objects and functions are not 100 percent
compatible. If applying this function to an <code>ergm</code>-model returns
weird errors, it is better to calculate the gof using the
<code>ergm</code> package and then plot that (using <a href="stat_plot_gof.html">stat_plot_gof</a> or
using the <code>ergm</code> package functions).</p>
<p>NOTE2: because the gof statistics for the models are determined inside the
plotting functions (so they can be used for the plotting), they can take some
time to run. This is why it is useful that the gof results themselves are not
only calculated by this function, but also returned for further inspection.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other statistics functions:
<code><a href="stat_ef_int.html">stat_ef_int</a>()</code>,
<code><a href="stat_plot_gof.html">stat_plot_gof</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">### ergm model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">florentine</span>, package <span class="op">=</span> <span class="st">"snafun"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">flom</span> <span class="op">&lt;-</span> <span class="fu"><a href="to_network.html">to_network</a></span><span class="op">(</span><span class="va">florentine</span><span class="op">$</span><span class="va">flomarriage</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m_ergm</span> <span class="op">&lt;-</span> <span class="fu">ergm</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ergm/man/ergm.html" class="external-link">ergm</a></span><span class="op">(</span><span class="va">flom</span> <span class="op">~</span> <span class="va">edges</span> <span class="op">+</span> <span class="fu">nodecov</span><span class="op">(</span><span class="st">"Wealth"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_ergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_ergm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_ergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_ergm</span>, </span></span>
<span class="r-in"><span>        btergm_statistics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">esp</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">dsp</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">deg</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_ergm</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### btergm model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">alliances</span>, package <span class="op">=</span> <span class="st">"SNA4DSData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m_btergm</span> <span class="op">&lt;-</span> <span class="fu">btergm</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/btergm/man/btergm.html" class="external-link">btergm</a></span><span class="op">(</span><span class="va">allianceNets</span> <span class="op">~</span> <span class="va">edges</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">gwesp</span><span class="op">(</span><span class="fl">0</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">edgecov</span><span class="op">(</span><span class="va">lastYearsSharedPartners</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">edgecov</span><span class="op">(</span><span class="va">militaryDisputes</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">nodecov</span><span class="op">(</span><span class="st">"polity"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">nodecov</span><span class="op">(</span><span class="st">"Composite_Index_National_Capability"</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">absdiff</span><span class="op">(</span><span class="st">"polity"</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">absdiff</span><span class="op">(</span><span class="st">"Composite_Index_National_Capability"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">edgecov</span><span class="op">(</span><span class="va">sharedBorder</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  R <span class="op">=</span> <span class="fl">100</span>, <span class="co"># number of bootstraps, perhaps set lower to just try the example</span></span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">16</span>  <span class="co"># optional line</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># gof with only 10 simulations to keep time for the example low</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, nsim <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, </span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, </span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">12</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, </span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">12</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Roger Leenders, Claudia Zucca.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

