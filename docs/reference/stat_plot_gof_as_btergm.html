<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>gof and plot (btergm style) — stat_plot_gof_as_btergm • snafun</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="gof and plot (btergm style) — stat_plot_gof_as_btergm"><meta name="description" content="Determine the gof and plot the gof, using the btergm approach"><meta property="og:description" content="Determine the gof and plot the gof, using the btergm approach"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">snafun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2024.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Creating-a-graph-object.html">Creating a graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Manipulating-the-graph-object.html">Manipulating the graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Converting-between-graph-classes.html">Converting between graph classes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Network measures</h6></li>
    <li><a class="dropdown-item" href="../articles/Graph-level-indices.html">Graph level indices</a></li>
    <li><a class="dropdown-item" href="../articles/Dyad-level-indices.html">Dyad-level indices</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Statistical Models</h6></li>
    <li><a class="dropdown-item" href="../articles/Statistical-models.html">Statistical Models</a></li>
    <li><a class="dropdown-item" href="../articles/ERGMs.html">Exponential Random Graph Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Temporal network analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/ERGM-for-temporal-networks.html">ERGM for temporal networks</a></li>
    <li><a class="dropdown-item" href="../articles/Temporal-networks-exploration.html">Temporal networks exploration and description</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Plotting the graph</h6></li>
    <li><a class="dropdown-item" href="../articles/Plotting.html">Plotting</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SNAnalyst/SNAfun/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>gof and plot (btergm style)</h1>
      <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/R/stat_gof.R" class="external-link"><code>R/stat_gof.R</code></a></small>
      <div class="d-none name"><code>stat_plot_gof_as_btergm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Determine the gof and plot the gof, using the btergm approach</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span></span>
<span>  <span class="va">m</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  btergm_statistics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">esp</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">geodesic</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">deg</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">rocpr</a></span><span class="op">)</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>a fitted <code>ergm</code> or <code>btergm</code> model</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>optional arguments, see description</p></dd>


<dt id="arg-btergm-statistics">btergm_statistics<a class="anchor" aria-label="anchor" href="#arg-btergm-statistics"></a></dt>
<dd><p>vector of statistics to be used in the gof</p></dd>


<dt id="arg-silent">silent<a class="anchor" aria-label="anchor" href="#arg-silent"></a></dt>
<dd><p>logical, if <code>TRUE</code> fewer messages will be printed during the
calculation of the gof (but the function will often still print some output)</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical, if <code>FALSE</code>, the printing of most details
by the gof function is suppressed (but some warnings may still appear and
errors are always shown)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the goodness of fit is silently returned</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For a fitted <code>ergm</code> or <code>btergm</code>, this function calculates
the goodness of fit (<code>gof</code>) and plots it.
This is done using the <code>btergm</code> engine, which also works for
fitted <code>ergm</code> models.</p>
<p>For calculating the gof, btergm provides the option to check the fit of the
model against a range of statistics.
See <a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">gof-statistics</a> for an overview of the available statistics
to check against. Note that these partly overlap with statistics available
in the <code>ergm</code> package, but not exactly.
If a statistic is required that is not inluded in the <code>btergm</code> package
for use in the <code>gof</code> function (such as "nodecov"), you need to use the
<code>ergm</code> package for this and can not use this function.</p>
<p>The <code>...</code> argument allows one to pass arguments to the
<a href="https://rdrr.io/pkg/btergm/man/gof.html" class="external-link">gof</a> function, such as <code>target</code>, <code>formula</code>,
<code>parallel</code>, <code>ncpus</code>.
See the help of <a href="https://rdrr.io/pkg/btergm/man/gof.html" class="external-link">gof</a> for the options.</p>
<p>Many messages that are returned during the whole process can be suppressed
by setting <code>silent = TRUE</code> and <code>verbose = FALSE</code>.</p>
<p>NOTE: the goodness of fit is silently returned. The plot is
always plotted.</p>
<p>NOTE: <code>ergm</code> and <code>btergm</code> are packages made by separate research
groups. As a result, the objects and functions are not 100 percent
compatible. If applying this function to an <code>ergm</code>-model returns
weird errors, it is better to calculate the gof using the
<code>ergm</code> package and then plot that (using <a href="stat_plot_gof.html">stat_plot_gof</a> or
using the <code>ergm</code> package functions).</p>
<p>NOTE2: because the gof statistics for the models are determined inside the
plotting functions (so they can be used for the plotting), they can take some
time to run. This is why it is useful that the gof results themselves are not
only calculated by this function, but also returned for further inspection.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other statistics functions:
<code><a href="stat_ef_int.html">stat_ef_int</a>()</code>,
<code><a href="stat_plot_gof.html">stat_plot_gof</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">### ergm model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">florentine</span>, package <span class="op">=</span> <span class="st">"snafun"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">flom</span> <span class="op">&lt;-</span> <span class="fu"><a href="to_network.html">to_network</a></span><span class="op">(</span><span class="va">florentine</span><span class="op">$</span><span class="va">flomarriage</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m_ergm</span> <span class="op">&lt;-</span> <span class="fu">ergm</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ergm/man/ergm.html" class="external-link">ergm</a></span><span class="op">(</span><span class="va">flom</span> <span class="op">~</span> <span class="va">edges</span> <span class="op">+</span> <span class="fu">nodecov</span><span class="op">(</span><span class="st">"Wealth"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_ergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_ergm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_ergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_ergm</span>, </span></span>
<span class="r-in"><span>        btergm_statistics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">esp</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">dsp</a></span>, <span class="fu">btergm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/btergm/man/gof-statistics.html" class="external-link">deg</a></span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_ergm</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### btergm model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">alliances</span>, package <span class="op">=</span> <span class="st">"SNA4DSData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m_btergm</span> <span class="op">&lt;-</span> <span class="fu">btergm</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/btergm/man/btergm.html" class="external-link">btergm</a></span><span class="op">(</span><span class="va">allianceNets</span> <span class="op">~</span> <span class="va">edges</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">gwesp</span><span class="op">(</span><span class="fl">0</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">edgecov</span><span class="op">(</span><span class="va">lastYearsSharedPartners</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">edgecov</span><span class="op">(</span><span class="va">militaryDisputes</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">nodecov</span><span class="op">(</span><span class="st">"polity"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">nodecov</span><span class="op">(</span><span class="st">"Composite_Index_National_Capability"</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">absdiff</span><span class="op">(</span><span class="st">"polity"</span><span class="op">)</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>  <span class="fu">absdiff</span><span class="op">(</span><span class="st">"Composite_Index_National_Capability"</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">edgecov</span><span class="op">(</span><span class="va">sharedBorder</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  R <span class="op">=</span> <span class="fl">100</span>, <span class="co"># number of bootstraps, perhaps set lower to just try the example</span></span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">16</span>  <span class="co"># optional line</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># gof with only 10 simulations to keep time for the example low</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, nsim <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, </span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, </span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">12</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gof_btergm</span> <span class="op">&lt;-</span> <span class="fu">stat_plot_gof_as_btergm</span><span class="op">(</span><span class="va">m_btergm</span>, </span></span>
<span class="r-in"><span>  parallel <span class="op">=</span> <span class="st">"snow"</span>, ncpus <span class="op">=</span> <span class="fl">12</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.tilburguniversity.edu/staff/r-t-a-j-leenders" class="external-link">Roger Leenders</a>, <a href="https://www.tilburguniversity.edu/staff/c-zucca" class="external-link">Claudia Zucca</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

