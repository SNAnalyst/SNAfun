<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Temporal networks exploration and description • snafun</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Temporal networks exploration and description">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">snafun</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2024.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Creating-a-graph-object.html">Creating a graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Manipulating-the-graph-object.html">Manipulating the graph object</a></li>
    <li><a class="dropdown-item" href="../articles/Converting-between-graph-classes.html">Converting between graph classes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Network measures</h6></li>
    <li><a class="dropdown-item" href="../articles/Graph-level-indices.html">Graph level indices</a></li>
    <li><a class="dropdown-item" href="../articles/Dyad-level-indices.html">Dyad-level indices</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Statistical Models</h6></li>
    <li><a class="dropdown-item" href="../articles/Statistical-models.html">Statistical Models</a></li>
    <li><a class="dropdown-item" href="../articles/ERGMs.html">Exponential Random Graph Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Temporal network analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/ERGM-for-temporal-networks.html">ERGM for temporal networks</a></li>
    <li><a class="dropdown-item" href="../articles/Temporal-networks-exploration.html">Temporal networks exploration and description</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Plotting the graph</h6></li>
    <li><a class="dropdown-item" href="../articles/Plotting.html">Plotting</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SNAnalyst/SNAfun/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Temporal networks exploration and description</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SNAnalyst/SNAfun/blob/HEAD/vignettes/Temporal-networks-exploration.Rmd" class="external-link"><code>vignettes/Temporal-networks-exploration.Rmd</code></a></small>
      <div class="d-none name"><code>Temporal-networks-exploration.Rmd</code></div>
    </div>

    
    
<style type="text/css">
.main-container {
  max-width: 1800px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<style type="text/css">
pre {
    border-style: hidden;
}
</style>
<div class="section level2">
<h2 id="temporal-networks-exploration-and-description">Temporal networks (exploration and description)<a class="anchor" aria-label="anchor" href="#temporal-networks-exploration-and-description"></a>
</h2>
<p>The main packages to use in this course for descriptive and
exploratory analysis of temporal networks are
<code>networkDynamic</code> to construct and manipulate temporal
networks), <code>tsna</code> (for <code>sna</code>-like network
measures), and <code>ndtv</code> (for visualization).</p>
<p>Edges will typically have a starting time (<code>onset</code>), and
end time (<code>terminus</code>), a duration, a sender
(<code>tail</code>), and a receiver (<code>head</code>). of course,
edges can start and end multiple times during the observation period and
can have durations of length 0 up until any positive number.</p>
<p>The temporal networks are of class <code>networkDynamic</code>.</p>
<div class="section level3">
<h3 id="network-generation-and-manipulation">Network generation and manipulation<a class="anchor" aria-label="anchor" href="#network-generation-and-manipulation"></a>
</h3>
<ul>
<li>
<code><a href="https://rdrr.io/pkg/networkDynamic/man/networkDynamic.html" class="external-link">networkDynamic::networkDynamic</a></code>: construction of a
temporal network. There are many ways in which you can construct a
temporal network. A common way is to first construct a network that has
the vertex names, any vertex static attributes, edge attributes, whether
the network is directed, et cetera. <br> This network is called
<code>base.net</code> and is used by this function to extract the basic
aspects of the network. Don’t worry that some values (e.g., vertex
attributes) may change over time, because any temporal info you add to
this function will override what is in <code>base.net</code>. But
<code>base.net</code> is an excellent and efficient way to provide much
data to the function about the temporal network and it more cumbersome
to add that later on. <br> Further, you can provide dynamic data through
<code>data.frame</code>s for vertices and for edges in several ways.
Consult the <code>help</code> function for the details, as this vignette
would become far too long otherwise.</li>
<li>
<code>as.data.frame(g)</code> Extract the dynamic edge info from the
network, as a <code>data.frame</code>.</li>
</ul>
<p>Most of the functions below allow you to specify a time segment you
are interested in. Typically, these include <code>onset</code>,
<code>terminus</code>, <code>length</code>, and <code>at</code>. Below,
we give only one example of how each function can be specified.</p>
<ul>
<li><p><code>networkDynamic::list.vertex.attributes.active(g, onset = 5, terminus = 8)</code>
List the attributes of the vertices that are active in a specific time
segment.</p></li>
<li><p><code>networkDynamic::get.vertex.attribute.active(g, "attrName", at = 1)</code>
The value for vertex attribute <code>attrName</code> in a specific time
segment.</p></li>
<li><p><code>networkDynamic::list.edge.attributes.active(g, onset = 0, terminus = 49)</code>
List the attributes of the edge that are active in a specific time
segment.</p></li>
<li><p><code>networkDynamic::get.edge.attribute.active(g, "attrName", at = 1)</code>
The value for edge attribute <code>attrName</code> in a specific time
segment.</p></li>
<li><p><code>networkDynamic::network.extract(classroom, onset = 0, terminus = 1)</code>
Extract the part of the temporal network for a specific time
segment.</p></li>
<li><p><code>networkDynamic::network.collapse(classroom, onset = 0, terminus = 1)</code>
Collapse the temporal network into a static network based on the
activity within a specific time segment.</p></li>
<li><p><code><a href="https://rdrr.io/pkg/networkDynamic/man/tea_functions.html" class="external-link">networkDynamic::activate.vertex.attribute</a></code>,
<code><a href="https://rdrr.io/pkg/networkDynamic/man/tea_functions.html" class="external-link">networkDynamic::activate.edge.attribute</a></code>,
<code>activate.edge.value</code>,
<code>activate.network.attribute</code> Set or modify attributes within
a specific time segment.</p></li>
<li><p><code>deactivate.vertex.attribute</code>,
<code>deactivate.edge.attribute</code>,
<code>deactivate.network.attribute</code> Make an attribute inactive
during a specific time segment.</p></li>
</ul>
<p>NOTE: The functions above for accessing and setting the attributes of
a <code>networkDynamic</code> object are not very user friendly.
Luckily, you can also access and/or set attributes using the
<code>network</code> package or the <code>snafun</code> package like in
the <a href="#manipulate%7D">network manipulation table</a>. As long as
you want to access and/or set attributes that are <em>static</em>, this
works much easier and uses functions that you have used multiple times
already in this course and should be second nature to you by now.</p>
</div>
<div class="section level3">
<h3 id="network-measures-and-descriptives">Network measures and descriptives<a class="anchor" aria-label="anchor" href="#network-measures-and-descriptives"></a>
</h3>
<ul>
<li><p><code>networkDynamic::duration.matrix(g, changes, start, end)</code>
This function takes a given temporal network <code>g</code>, a matrix
with columns “time”, “tail”, “head” (this matrix is called a <em>toggle
list</em>), and a start and end time. It returns a
<code>data.frame</code> a list of edges and activity spells. A toggle
represents a switch from active state to inactive, or
vice-versa.</p></li>
<li><p><code>network.size(g, onset = 5, length = 10)</code>. The size of
a network during a specific time segment.</p></li>
</ul>
<p>The following functions provide useful descriptives of durations in
the temporal network.</p>
<ul>
<li><p><code>tsna::edgeDuration(g, mode = "duration")</code> or
<code>tsna::edgeDuration(g, mode = "counts")</code> Sums the activity
duration or number of edge events in a time segment.</p></li>
<li><p><code>tsna::vertexDuration(g, mode = "duration")</code> or
<code>tsna::vertexDuration(g, mode = "counts")</code> Sums the activity
duration or number of vertex events in a time segment.</p></li>
<li><p><code>tsna::tiedDuration(g, mode = "duration")</code> Measures
the total amount of time each vertex has ties.</p></li>
<li><p><code>tsna::tiesDuration(g, mode = "counts")</code> Computes the
total number of edge spells each vertex is tied by.</p></li>
</ul>
<p>The functions <code><a href="https://rdrr.io/pkg/tsna/man/incidence.html" class="external-link">tsna::tEdgeFormation</a></code> and
<code><a href="https://rdrr.io/pkg/tsna/man/incidence.html" class="external-link">tsna::tEdgeDissolution</a></code> compute the number of edges forming
or dissolving at time points over a time segment. If
<code>result.type = 'fraction'</code> the fraction of the number of
edges formed (or dissolved) is computed.</p>
<ul>
<li>
<p><code>tsna::tEdgeFormation(g, start = 1, end = 4, time.interval = 1)</code></p>
<p>Counts at times 1, 2, 3, and 4.</p>
</li>
<li>
<p><code>tsna::tEdgeDissolution(g, start = 1, end = 4, time.interval = 1)</code></p>
<p>Counts at times 1, 2, 3, and 4.</p>
</li>
</ul>
<div class="section level4">
<h4 id="calculating-measures-from-sna-over-time">Calculating measures from <code>sna</code> over time<a class="anchor" aria-label="anchor" href="#calculating-measures-from-sna-over-time"></a>
</h4>
<p>You can calculate any measure from the <code>sna</code> package on a
collapsed time segment or a series of collapsed time segments through
the <code><a href="https://rdrr.io/pkg/tsna/man/tSnaStats.html" class="external-link">tsna::tSnaStats</a></code> function. These measures can be vertex
level statistics (e.g., <code>sna:betweenness</code>) or graph-level
measures (e.g., <code><a href="https://rdrr.io/pkg/sna/man/grecip.html" class="external-link">sna::grecip</a></code>). You specify which function
you want to calculate and the time segments they should be calculated
on. The function returns a time series, which makes the outcomes easy to
plot.<br> For example, you want to calculate transitivity of intervals
that are 5 time points wide. The following function calculates
transitivity for time intervals [0-5), [5-10), [10-15), etc:</p>
<p><code>tsna::tSnaStats(g, snafun = "gtrans", time.interval = 5, aggregate.dur = 5)</code></p>
<p>This can cause some sudden shifts of values, so it is often more
informative to use overlapping segments. So, let us calculate density
for windows of width 0, at intervals of 3. This calculates density for
intervals 0-10, 3-13, 6-16, et cetera:</p>
<p><code>tsna::tSnaStats(g, snafun = "gden", time.interval = 3, aggregate.dur = 10)</code></p>
</div>
<div class="section level4">
<h4 id="calculating-ergm-terms-over-time">Calculating <code>ergm</code> terms over time<a class="anchor" aria-label="anchor" href="#calculating-ergm-terms-over-time"></a>
</h4>
<p>The <code>tsna</code> also allows you to compute <code>ergm</code>
terms for specific time segments. Because the model terms provided by
the <code>ergm</code> package (and its various add-ons) are ‘change
statistics’ (that determine the effect of changing a single tie on the
overall network structure), you can use these terms to describe the
network within specific time segments. You specify which terms you want
to calculate using a formula.</p>
<p>For example,</p>
<p><code>tsna::tErgmStats(g,'~edges + degree(c(1, 2))', start = 3, end = 10)</code></p>
<p>calculates the number of edges (<em>edges</em>) and the values for
<em>degree(1)</em> and <em>degree(2</em> for each specified time
segment. The output is a time series (with a column for each statistic)
and can simply be plotted using <code>plot</code>. This plots the time
series for each term above the others, so you can see how all of them
develop over time.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">windsurfers</span>, package <span class="op">=</span> <span class="st">"networkDynamic"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="fu">tsna</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tsna/man/tErgmStats.html" class="external-link">tErgmStats</a></span><span class="op">(</span><span class="va">windsurfers</span>,<span class="st">'~edges + degree(2) + kstar(3)'</span>,</span>
<span>                      aggregate.dur <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>, main <span class="op">=</span> <span class="st">"ERGM terms over time"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Temporal-networks-exploration_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>In the lecture, we discussed <em>participation shifts</em>–also known
as <em>p-shifts</em>. Gibson (2003) defined 13 P-shifts, and the
<code><a href="https://rdrr.io/pkg/tsna/man/pShiftCount.html" class="external-link">tsna::pShiftCount</a></code> function can count how often each type
occurs in a specific time segment. This is how Gibson describes each of
the thirteen types:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></span><span class="op">(</span><span class="st">"pshifts.png"</span><span class="op">)</span></span></code></pre></div>
<p><img src="pshifts.png" width="450"></p>
</div>
<div class="section level4">
<h4 id="participation-shifts">Participation shifts<a class="anchor" aria-label="anchor" href="#participation-shifts"></a>
</h4>
<ul>
<li>
<code>tsna::pShiftCount(g, start = 1, end = 3)</code> Calculates the
number of times each of the above P-shifts occurred during the specified
time segment. In other words, this calculates the <em>P-shift
census</em>.</li>
</ul>
</div>
<div class="section level4">
<h4 id="temporal-paths">Temporal paths<a class="anchor" aria-label="anchor" href="#temporal-paths"></a>
</h4>
<p>The <code><a href="https://rdrr.io/pkg/tsna/man/paths.html" class="external-link">tsna::tPath</a></code> function calculates the set of
temporally reachable vertices from a given source vertex starting at a
specific time.</p>
<ul>
<li>
<code>tsna::tPath(g, v = 12, direction = "fwd", start = 0, end = 3)</code>
This calculates the temporal paths from vertex 12 to all other vertices,
from the start of the specified time segment. When
<code>direction = "bkwd"</code>, it determines the paths <em>to</em>
vertex 12. You can further specify whether you will find the paths that
arrive the first or the ones that leave the vertex at the latest
possible times.</li>
</ul>
<p>The generally most relevant parts of the resulting object are:</p>
<ul>
<li><p><code>tdist</code> The time each specific path takes. When a path
does not exist, the value if Inf.</p></li>
<li><p><code>gsteps</code> The length of the path (in terms of the
number of steps). When a path does not exist, the value if Inf.</p></li>
</ul>
<p>The <code><a href="https://rdrr.io/pkg/tsna/man/plotpath.html" class="external-link">tsna::plotPaths</a></code> plots the network and highlights the
calculated temporal paths from the chosen vertex (vertex 12, in the
example above). It can also add a label to each edge, so you can see how
much time it takes for that edge to be activated from this focal vertex.
You can tweak the plot like you would tweak any network plot of class
<code>network</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tsna</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tsna/man/plotpath.html" class="external-link">plotPaths</a></span><span class="op">(</span></span>
<span>  <span class="va">g</span>,</span>
<span>  paths <span class="op">=</span> <span class="fu">tsna</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tsna/man/paths.html" class="external-link">tPath</a></span><span class="op">(</span><span class="va">g</span>, v <span class="op">=</span> <span class="fl">12</span>, direction <span class="op">=</span> <span class="st">"fwd"</span>, start <span class="op">=</span> <span class="fl">0</span>, end <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>  displaylabels <span class="op">=</span> <span class="cn">FALSE</span>,        <span class="co"># remove the vertex labels, to prevent too much visual clutter</span></span>
<span>  vertex.col <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  edge.label.cex <span class="op">=</span> <span class="fl">1.5</span>          <span class="co"># the color of the printed times</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>A related concept is that of “temporal reachability.” The
<code><a href="https://rdrr.io/pkg/tsna/man/reachable_set_sizes.html" class="external-link">tsna::tReach</a></code> function computes, for each vertex, the number
of vertices that are temporally reachable over the entire observation
period.&lt;&gt; If you want to compute this for a specific time segment,
first use <code><a href="https://rdrr.io/pkg/networkDynamic/man/network.extract.html" class="external-link">networkDynamic::network.extract</a></code> to extract the
segment of interest and then feed this to the <code><a href="https://rdrr.io/pkg/tsna/man/reachable_set_sizes.html" class="external-link">tsna::tReach</a></code>
function.</p>
<ul>
<li>
<code>tsna::tReach(g, direction = "fwd", start = 10, end = 20)</code>
The function to calculate the temporal reachable sets using only
temporally forward steps (you can also specify
<code>direction = "bkwd"</code> to determine by how many vertices each
vertex can be temporally reached).</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="network-visualization">Network visualization<a class="anchor" aria-label="anchor" href="#network-visualization"></a>
</h3>
<p>Temporal networks can be visualized in two ways. First, static plots
can be made of a temporal network, either by collapsing the temporal
network into a static network (or to break up the temporal network into
static networks of specific time segments).</p>
<div class="section level4">
<h4 id="visualizing-as-static-networks">Visualizing as static networks<a class="anchor" aria-label="anchor" href="#visualizing-as-static-networks"></a>
</h4>
<p>An obvious way to visualize the entire temporal network as a static
network is to simply use <code>plot(g)</code>.</p>
<p>Alternatively, the temporal network can be collapsed into smaller
time segments and plot these the network slices as static
representations.</p>
<p>There are two functions that can do this. The <code>ndtv</code>
package has the</p>
<p><code><a href="https://rdrr.io/pkg/ndtv/man/filmstrip.html" class="external-link">ndtv::filmstrip</a></code> that does this as follows:</p>
<ul>
<li>
<code>ndtv::filmstrip(g, frames = 9)</code> This plots the network
at 9 points in time. It does <em>not</em> provide an overview of how the
network changes over time, but it provides a series of snapshots (9, in
this example) of the network. If the timing of the edges is in
continuous time, this function has the tendency to plot nearly empty
graphs, as it evaluates the networks at specific time <em>points</em>,
rather than time <em>intervals</em>.</li>
</ul>
<p>The <code>snafun</code> package implements a function that divides
the specified time period into time segments of equal time length and
plots each segment as a static network. This is useful to see how the
network changes over time. It also works nicely for networks where
changes happen in continuous time.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">snafun</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_network_slices.html">plot_network_slices</a></span><span class="op">(</span><span class="fl">9</span>, number <span class="op">=</span> <span class="fl">93</span><span class="op">)</span></span></code></pre></div>
<p>A sometimes useful function is <code><a href="https://rdrr.io/pkg/ndtv/man/proximity.timeline.html" class="external-link">ndtv::proximity.timeline</a></code>,
which shows the distance between the edges over time. The main purpose
is to see how the edges move vis-a-vis each other over time (based on
the geodesic path distance) and it often helps to see where and when
subgroups are forming over time.</p>
<p>The function call is:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ndtv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ndtv/man/proximity.timeline.html" class="external-link">proximity.timeline</a></span><span class="op">(</span><span class="va">g</span>,  start <span class="op">=</span> <span class="fl">10</span>, end <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                         time.increment <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>                         mode <span class="op">=</span> <span class="st">'isoMDS'</span><span class="op">)</span></span></code></pre></div>
<p>where you can change the <em>mode</em> to a different scaling
algorithm. For actual research projects, you want to try various
settings and check which gives you the most informative output for the
data at hand.</p>
<p>The function allows you to set many arguments (such as labels and
colors).</p>
</div>
<div class="section level4">
<h4 id="visualizing-as-a-dynamic-network-animation">Visualizing as a dynamic network animation<a class="anchor" aria-label="anchor" href="#visualizing-as-a-dynamic-network-animation"></a>
</h4>
<p>The <code>ndtv</code> package includes functions to create an
animation of how the network unfolds over time. There are many arguments
you can tweak, so here we only focus on the main approach. Make sure to
consult the package help for more details.</p>
<p>There are two steps in creating a dynamic visualization in
<code>ndtv</code>: you first run <code><a href="https://rdrr.io/pkg/ndtv/man/compute.animation.html" class="external-link">ndtv::compute.animation</a></code>,
which determines coordinates and other aspects of the dynamic plot.
Second, you run <code><a href="https://rdrr.io/pkg/ndtv/man/render.d3movie.html" class="external-link">ndtv::render.d3movie</a></code>, which, you guessed
it, renders the actual movie.<br></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># step 0: unfortunately, we have to load the package into our session</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/statnet/ndtv" class="external-link">ndtv</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># step 1: compute the settings</span></span>
<span><span class="fu">ndtv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ndtv/man/compute.animation.html" class="external-link">compute.animation</a></span><span class="op">(</span><span class="va">g</span>, animation.mode <span class="op">=</span> <span class="st">"kamadakawai"</span>,</span>
<span>                        slice.par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0</span>, end <span class="op">=</span> <span class="fl">45</span>,</span>
<span>                                         aggregate.dur <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                                         interval <span class="op">=</span> <span class="fl">1</span>, rule <span class="op">=</span> <span class="st">"any"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># step 2, render the animation</span></span>
<span><span class="fu">ndtv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ndtv/man/render.d3movie.html" class="external-link">render.d3movie</a></span><span class="op">(</span><span class="va">g</span>, usearrows <span class="op">=</span> <span class="cn">TRUE</span>, displaylabels <span class="op">=</span> <span class="cn">FALSE</span> ,</span>
<span>                     bg <span class="op">=</span> <span class="st">"#111111"</span>,</span>
<span>                     edge.col <span class="op">=</span> <span class="st">"#55555599"</span>,</span>
<span>                     render.par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>tween.frames <span class="op">=</span> <span class="fl">15</span>,</span>
<span>                                       show.time <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>                     d3.options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>animationDuration <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>                                       playControls <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                       durationControl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>                     output.mode <span class="op">=</span> <span class="st">'htmlWidget'</span></span>
<span>                     <span class="op">)</span></span></code></pre></div>
<p>Some important arguments for <code><a href="https://rdrr.io/pkg/ndtv/man/render.d3movie.html" class="external-link">ndtv::render.d3movie</a></code>
include:</p>
<ul>
<li><p><code>launchBrowser</code>: defaults to TRUE: determines whether
the animation will be shown in the Browser after rendering.</p></li>
<li><p><code>output.mode</code>: the kind of output you want (defaults
to ‘HTML’)</p></li>
<li><p><code>filename</code>: The file name of the HTML or JSON file to
be generated. Only relevant if you picked ‘HTML’ or ‘JSON’ as
output.mode.</p></li>
</ul>
<p>Further, you can set most of the common graphical parameters, such as
<code>vertex.col</code>, <code>label.cex</code>,
<code>use.arrows</code>, <code>edge.lwd</code>, et cetera.</p>
<p>If you want to fix vertices to the same location throughout the
animation, you do this as follows</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># use some way to determine a matrix of vertex locations</span></span>
<span><span class="va">coords</span> <span class="op">&lt;-</span> <span class="fu">ndtv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ndtv/man/network.layout.animate.html" class="external-link">network.layout.animate.kamadakawai</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add the x and y coordinates as vertex attributes</span></span>
<span><span class="co"># adapt onset and terminus if required</span></span>
<span><span class="fu">networkDynamic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/networkDynamic/man/tea_functions.html" class="external-link">activate.vertex.attribute</a></span><span class="op">(</span><span class="va">g</span>, <span class="st">"x"</span>, <span class="va">coords</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>,</span>
<span>                                          onset <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>, terminus <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">networkDynamic</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/networkDynamic/man/tea_functions.html" class="external-link">activate.vertex.attribute</a></span><span class="op">(</span><span class="va">g</span>, <span class="st">"y"</span>, <span class="va">coords</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>,</span>
<span>                                          onset <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>, terminus <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># compute the new animation settings</span></span>
<span><span class="co"># We now use `animation.mode = "useAttribute"`</span></span>
<span><span class="fu">ndtv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ndtv/man/compute.animation.html" class="external-link">compute.animation</a></span><span class="op">(</span><span class="va">g</span>, animation.mode <span class="op">=</span> <span class="st">"useAttribute"</span>,</span>
<span>                        slice.par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0</span>, end <span class="op">=</span> <span class="fl">45</span>,</span>
<span>                                         aggregate.dur <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                                         interval <span class="op">=</span> <span class="fl">1</span>, rule <span class="op">=</span> <span class="st">"any"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.tilburguniversity.edu/staff/r-t-a-j-leenders" class="external-link">Roger Leenders</a>, <a href="https://www.tilburguniversity.edu/staff/c-zucca" class="external-link">Claudia Zucca</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
